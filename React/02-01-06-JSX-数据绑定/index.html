<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .test {
            background-color: antiquewhite;
        }
    </style>
</head>

<body>
    <div id="root"></div>
    <!-- <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin></script> -->
    <script src="../../.lib/react@18.3.1.umd.development.js" crossorigin></script>
    <script src="../../.lib/react-dom@18.3.1.umd.development.js" crossorigin></script>
    <script src="../../.lib/babel@7.25.8.min.js" crossorigin></script>
</body>
<script type="text/babel">

    const { useState } = React

    // 数据绑定
    function Eg_JSX_DataBind_Error() {

        let count = 0

        return (
            <div>
                <div>
                    <span>错误方式：</span>
                    <button onClick={() => count++}>+1</button>
                </div>
                <div>{count}</div>
            </div>
        )
    }



    function Eg_JSX_DataBind() {
        let [count, setCount] = useState(0)


        // function b() {
        //     // 内层函数使用 hook 可能会报错，不推荐使用
        //     let [count, setCount] = useState(0)
        //     // do something...
        // }

        // 或者 使用 setCount(++count)
        // setCount(count++) 不行 点击与渲染不一致
        return (
            <div>
                <div>
                    <span>正确方式：</span>
                    <button onClick={() => setCount(count + 1)}>+1</button>
                </div>
                <div>{count}</div>
            </div>
        )
    }



    function MyApp() {
        return (
            <main>
                <Eg_JSX_DataBind_Error />
                <br />
                <br />
                <Eg_JSX_DataBind />
            </main >
        )
    }

    // 渲染到页面上
    // 获取根元素
    const rootEl = document.getElementById('root')
    // 创建 ReactDOM 根实例
    const rootIns = ReactDOM.createRoot(rootEl)
    // 使用根实例渲染组件
    rootIns.render(React.createElement(MyApp))
</script>

</html>